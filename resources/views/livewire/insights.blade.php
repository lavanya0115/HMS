<div class="col p-2">
    <div class="row row-deck row-cards">
        {{-- <div class="col-sm-6 col-lg-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="subheader">Sales</div>
                        <div class="ms-auto lh-1">
                            <div class="dropdown">
                                <a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item active" href="#">Last 7 days</a>
                                    <a class="dropdown-item" href="#">Last 30 days</a>
                                    <a class="dropdown-item" href="#">Last 3 months</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="h1 mb-3">75%</div>
                    <div class="d-flex mb-2">
                        <div>Conversion rate</div>
                        <div class="ms-auto">
                            <span class="text-green d-inline-flex align-items-center lh-1">
                                7%
                                <!-- Download SVG icon from http://tabler-icons.io/i/trending-up -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M3 17l6 -6l4 4l8 -8"></path>
                                    <path d="M14 7l7 0l0 7"></path>
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="progress progress-sm">
                        <div class="progress-bar bg-primary" style="width: 75%" role="progressbar" aria-valuenow="75"
                            aria-valuemin="0" aria-valuemax="100" aria-label="75% Complete">
                            <span class="visually-hidden">75% Complete</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="subheader">Sales</div>
                        <div class="ms-auto lh-1">
                            <div class="dropdown">
                                <a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item active" href="#">Last 7 days</a>
                                    <a class="dropdown-item" href="#">Last 30 days</a>
                                    <a class="dropdown-item" href="#">Last 3 months</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="h1 mb-3">75%</div>
                    <div class="d-flex mb-2">
                        <div>Conversion rate</div>
                        <div class="ms-auto">
                            <span class="text-green d-inline-flex align-items-center lh-1">
                                7%
                                <!-- Download SVG icon from http://tabler-icons.io/i/trending-up -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M3 17l6 -6l4 4l8 -8"></path>
                                    <path d="M14 7l7 0l0 7"></path>
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="progress progress-sm">
                        <div class="progress-bar bg-primary" style="width: 75%" role="progressbar" aria-valuenow="75"
                            aria-valuemin="0" aria-valuemax="100" aria-label="75% Complete">
                            <span class="visually-hidden">75% Complete</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="subheader">Sales</div>
                        <div class="ms-auto lh-1">
                            <div class="dropdown">
                                <a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item active" href="#">Last 7 days</a>
                                    <a class="dropdown-item" href="#">Last 30 days</a>
                                    <a class="dropdown-item" href="#">Last 3 months</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="h1 mb-3">75%</div>
                    <div class="d-flex mb-2">
                        <div>Conversion rate</div>
                        <div class="ms-auto">
                            <span class="text-green d-inline-flex align-items-center lh-1">
                                7%
                                <!-- Download SVG icon from http://tabler-icons.io/i/trending-up -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M3 17l6 -6l4 4l8 -8"></path>
                                    <path d="M14 7l7 0l0 7"></path>
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="progress progress-sm">
                        <div class="progress-bar bg-primary" style="width: 75%" role="progressbar" aria-valuenow="75"
                            aria-valuemin="0" aria-valuemax="100" aria-label="75% Complete">
                            <span class="visually-hidden">75% Complete</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex align-items-center">
                        <div class="subheader">Sales</div>
                        <div class="ms-auto lh-1">
                            <div class="dropdown">
                                <a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                                <div class="dropdown-menu dropdown-menu-end">
                                    <a class="dropdown-item active" href="#">Last 7 days</a>
                                    <a class="dropdown-item" href="#">Last 30 days</a>
                                    <a class="dropdown-item" href="#">Last 3 months</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="h1 mb-3">75%</div>
                    <div class="d-flex mb-2">
                        <div>Conversion rate</div>
                        <div class="ms-auto">
                            <span class="text-green d-inline-flex align-items-center lh-1">
                                7%
                                <!-- Download SVG icon from http://tabler-icons.io/i/trending-up -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-1" width="24" height="24"
                                    viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M3 17l6 -6l4 4l8 -8"></path>
                                    <path d="M14 7l7 0l0 7"></path>
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="progress progress-sm">
                        <div class="progress-bar bg-primary" style="width: 75%" role="progressbar" aria-valuenow="75"
                            aria-valuemin="0" aria-valuemax="100" aria-label="75% Complete">
                            <span class="visually-hidden">75% Complete</span>
                        </div>
                    </div>
                </div>
            </div>
        </div> --}}
        <div class="d-flex align-items-center">
            <div class="subheader">Visitors Count (Total-{{ $totalVisitorCount }})</div>
            <div class="ms-auto lh-1">
                <div class="dropdown">
                    <a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                        @if ($selectedRange === 'all')
                            This Event
                        @elseif ($selectedRange === 'last7Days')
                            Last 7 days
                        @elseif ($selectedRange === 'last30Days')
                            Last 30 days
                        @elseif ($selectedRange === 'last3Months')
                            Last 3 months
                        @endif
                    </a>
                    <div class="dropdown-menu dropdown-menu-end">
                        <a class="dropdown-item" wire:click.prevent="setRange('all')" href="#">This Event</a>
                        <a class="dropdown-item" wire:click.prevent="setRange('last7Days')" href="#">Last 7
                            days</a>
                        <a class="dropdown-item" wire:click.prevent="setRange('last30Days')" href="#">Last 30
                            days</a>
                        <a class="dropdown-item" wire:click.prevent="setRange('last3Months')" href="#">Last 3
                            months</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12">
            <div class="row row-cards">
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm cursor-pointer">
                        <a class="text-decoration-none" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Visitors Online Registration List')">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-facebook text-white avatar">
                                            @include('icons.cloud-off')
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-medium">
                                            {{ $visitorOfflineCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            Web Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Visitors 10T Registraion List')">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-primary text-white avatar">
                                            10T
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-large">
                                            {{ $visitor10tCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            10T Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Visitors Whatsapp Registraion List')">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-green text-white avatar">
                                            @include('icons.brand-whatsapp')
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-medium">
                                            {{ $visitorWhatsapptCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            Whatsapp Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Visitors HMS Registration List')">
                            <div class="card-body pe-1">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-twitter text-white avatar">
                                            @include('icons.world-www')
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-medium">
                                            {{ $visitorOnlineCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            CRM Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>


                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Delegates List')">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-primary text-white avatar">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                class="icon icon-tabler icon-tabler-users-group" width="24"
                                                height="24" viewBox="0 0 24 24" stroke-width="1.5"
                                                stroke="currentColor" fill="none" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                <path d="M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                                                <path d="M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1" />
                                                <path d="M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                                                <path d="M17 10h2a2 2 0 0 1 2 2v1" />
                                                <path d="M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
                                                <path d="M3 13v-1a2 2 0 0 1 2 -2h2" />
                                            </svg>
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-medium">
                                            {{ $totalDelegatesCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            Delegates
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Seminar List')">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-green text-white avatar">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                class="icon icon-tabler icon-tabler-brand-denodo" width="24"
                                                height="24" viewBox="0 0 24 24" stroke-width="1.5"
                                                stroke="currentColor" fill="none" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                <path d="M11 11h2v2h-2z" />
                                                <path d="M3.634 15.634l1.732 -1l1 1.732l-1.732 1z" />
                                                <path d="M11 19h2v2h-2z" />
                                                <path d="M18.634 14.634l1.732 1l-1 1.732l-1.732 -1z" />
                                                <path d="M17.634 7.634l1.732 -1l1 1.732l-1.732 1z" />
                                                <path d="M11 3h2v2h-2z" />
                                                <path d="M3.634 8.366l1 -1.732l1.732 1l-1 1.732z" />
                                            </svg>
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-medium">
                                            {{ $TotalSeminarCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            Seminar Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>

                <div class="d-flex align-items-center">
                    <div class="subheader">Exhibitor Count (Total-{{ $totalExhibitorCount }})</div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Exhibitors Online Registraion List')">
                            <div class="card-body">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-primary text-white avatar">
                                            @include('icons.cloud-fog')
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-large">
                                            {{ $exibitorOnlineCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            Web Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-sm-6 col-lg-3">
                    <div class="card card-sm">
                        <a class="text-decoration-none" href="#" onclick="window.location.href='#tableSection'"
                            wire:click.prevent="changeTitle('Exhibitors Offline Registraion List')">
                            <div class="card-body pe-1">
                                <div class="row align-items-center">
                                    <div class="col-auto">
                                        <span class="bg-twitter text-white avatar">
                                            @include('icons.world-www')
                                        </span>
                                    </div>
                                    <div class="col">
                                        <div class="font-weight-medium">
                                            {{ $exibitorOfflineCount ?? 0 }}
                                        </div>
                                        <div class="text-secondary">
                                            CRM Count
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>



            </div>
        </div>
        <div class="col-lg-6">
            <div wire:ignore class="card">
                <div class="card-body">
                    <h3 class="card-title">Visitors registration chart</h3>
                    <div id="chart-mentions" class="chart-lg"></div>
                </div>
            </div>
        </div>
        <div class="col-lg-6">
            <div wire:ignore class="card">
                <div class="card-body">
                    <h3 class="card-title">Exhibitors registration chart</h3>
                    <div class="ratio ratio-21x9">
                        <div>
                            <div id="chart-exhibitors" class="w-100 h-100"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title fw-bold">{{ $tableTitle }}</h3>
                </div>
                {{-- <div class="card-body border-bottom py-3">
                    <div class="d-flex">
                        <div class="text-secondary">
                            Show
                            <div class="mx-2 d-inline-block">
                                <input type="text" class="form-control form-control-sm" value="8"
                                    size="3" aria-label="Invoices count">
                            </div>
                            entries
                        </div>
                        <div class="ms-auto text-secondary">
                            Search:
                            <div class="ms-2 d-inline-block">
                                <input type="text" class="form-control form-control-sm"
                                    aria-label="Search invoice">
                            </div>
                        </div>
                    </div>
                </div> --}}
                @if ($tableTitle == 'Seminar List')
                    <div class="table-responsive">
                        <table class="table card-table table-vcenter text-nowrap datatable" id="tableSection">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Name</th>
                                    <th>Start Date</th>
                                    <th>Start Time</th>
                                    <th>End Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if ($seminarList->isNotEmpty())
                                    @foreach ($seminarList as $index => $seminar)
                                        <tr>
                                            <td>{{ $index + 1 }}</td>
                                            <td>{{ $seminar->title }}</td>
                                            <td>{{ $seminar->date }}</td>
                                            <td>{{ $seminar->start_time }}</td>
                                            <td>{{ $seminar->end_time }}</td>
                                        </tr>
                                    @endforeach
                                @else
                                    <tr>
                                        <td colspan="4">No seminars found.</td>
                                    </tr>
                                @endif
                            </tbody>
                        </table>
                    </div>
                @else
                    <div class="table-responsive">
                        <table class="table card-table table-vcenter text-nowrap datatable" id="tableSection">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Name</th>
                                    <th>Mobile Number</th>
                                    <th>Email</th>
                                    {{-- <th>designation</th> --}}
                                    <th>Organization</th>
                                    <th>place</th>
                                </tr>
                            </thead>
                            <tbody>
                                @if (isset($users) && count($users) > 0)
                                    @foreach ($users as $userIndex => $user)
                                        <tr wire:key='user-{{ $user->id }}'>
                                            <td>
                                                {{ $userIndex + $users->firstItem() }}
                                            </td>
                                            <td>{{ $this->isExhibitor ? $user->exhibitor->exhibitorContact->name ?? '_' : $user->visitor->name ?? '_' }}
                                            </td>
                                            <td>
                                                {{ $this->isExhibitor ? $user->exhibitor->exhibitorContact->contact_number ?? '_' : $user->visitor->mobile_number ?? '_' }}
                                            </td>
                                            <td>
                                                {{ $this->isExhibitor ? $user->exhibitor->email ?? '_' : $user->visitor->email ?? '_' }}
                                            </td>
                                            <td>
                                                @php
                                                    $companyName = '';
                                                    if ($this->isExhibitor) {
                                                        $companyName = substr($user->exhibitor->name, 0, 20);
                                                    } else {
                                                        $companyName = substr($user->visitor->organization, 0, 20);
                                                    }
                                                @endphp
                                                <div data-bs-toggle="tooltip" data-bs-placement="right"
                                                    title="{{ $this->isExhibitor ? $user->exhibitor->name ?? '_' : $user->visitor->organization ?? '_' }}">
                                                    <strong>
                                                        {{ $companyName ?? '_' }}</strong><br>
                                                    <small>
                                                        {{ $this->isExhibitor ? $user->exhibitor->exhibitorContact->designation ?? '_' : $user->visitor->designation ?? '_' }}</small>
                                                </div>
                                            </td>
                                            <td>
                                                {{ $this->isExhibitor ? $user->exhibitor->address->city ?? '_' : $user->visitor->address->city ?? '_' }}
                                            </td>
                                        </tr>
                                    @endforeach
                                @else
                                    @livewire('not-found-record-row', ['colspan' => 5])
                                @endif
                            </tbody>
                        </table>
                    </div>
                    <div class="card-footer col d-flex justify-content-between">
                        <div class=" p-2">
                            <span class="fw-bold">
                                Showing {{ $users->firstItem() }} to {{ $users->lastItem() }} of
                                {{ $users->total() }} results
                            </span>
                        </div>
                        <div>
                            {{ $users->links() }}
                        </div>
                    </div>
                @endif


            </div>
        </div>
        {{-- <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title fw-bold">Visitor Knowing Source Insights</h3>
                </div>
                <div class="table-responsive">
                    <table class="table card-table table-vcenter text-nowrap datatable">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Knowing Source</th>
                                <th>Current Event</th>
                                <th>Previous Event</th>
                                <th>Percentage ( % )</th>

                            </tr>
                        </thead>
                        <tbody>
                            @if (isset($knowingSourceVisitorCounts) && count($knowingSourceVisitorCounts) > 0)
                                @foreach ($knowingSourceVisitorCounts as $knowingSourceIndex => $knowingSource)
                                    <tr wire:key='knowingSource-{{ Str::random(5) }}'>
                                        <td>
                                            {{ $knowingSourceIndex }}
                                        </td>
                                        <td>{{ $knowingSourceIndex }}
                                        </td>
                                        <td>
                                            {{ $knowingSource }}
                                        </td>
                                        <td>
                                            {{ 'kl' }}
                                        </td>
                                        <td>
                                            {{ 'kl' }}
                                        </td>
                                    </tr>
                                @endforeach
                            @else
                                @livewire('not-found-record-row', ['colspan' => 5])
                            @endif
                        </tbody>
                    </table>
                </div>
                <div class="card-footer col d-flex justify-content-end">
                    <div>

                    </div>
                    <div>
                        {{ $knowingSourceVisitorCounts->links() }}
                    </div>
                </div>
            </div>
        </div> --}}
    </div>
</div>
@push('scripts')
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var visitorCountByRegistrationType = @json($visitorCountByRegistrationType);

            var dates = Object.keys(visitorCountByRegistrationType);
            var series = [];
            var colors = [];

            // Initialize an array to store data for each registration type
            var registrationTypeData = {};

            var colorMap = {
                'web': 'blue',
                'medicall': 'yellow',
                'whatsapp': 'green',
                '10t': 'gray',
                'spot': 'pink',
            };

            // Populate registrationTypeData with counts for each registration type
            Object.keys(visitorCountByRegistrationType).forEach(function(date) {
                visitorCountByRegistrationType[date].forEach(function(visitor) {
                    var registrationType = visitor.registration_type;
                    var count = visitor.visitor_count;

                    if (!registrationTypeData[registrationType]) {
                        registrationTypeData[registrationType] = [];
                    }

                    registrationTypeData[registrationType].push(count);
                });
            });

            // Populate series array with data for each registration type
            Object.keys(registrationTypeData).forEach(function(registrationType) {
                let labelName = registrationType;

                if (registrationType === 'web') {
                    labelName = 'crm';
                }
                if (registrationType === 'medicall') {
                    labelName = 'web';
                }
                series.push({
                    name: labelName,
                    data: registrationTypeData[registrationType]
                });

                colors.push(tabler.getColor(colorMap[registrationType]));
            });

            // Use the processed data (series) to render the chart
            new ApexCharts(document.getElementById('chart-mentions'), {
                chart: {
                    type: "bar",
                    fontFamily: 'inherit',
                    height: 250,
                    parentHeightOffset: 0,
                    toolbar: {
                        show: false,
                    },
                    animations: {
                        enabled: true
                    },
                },
                plotOptions: {
                    bar: {
                        columnWidth: '80%',
                    }
                },
                dataLabels: {
                    enabled: false,
                },
                fill: {
                    opacity: 10,
                },
                series: series,
                tooltip: {
                    theme: 'dark'
                },
                grid: {
                    padding: {
                        top: -20,
                        right: 0,
                        left: -4,
                        bottom: -4
                    },
                    strokeDashArray: 2,
                },
                xaxis: {
                    categories: dates,
                    labels: {
                        padding: 0,
                    },
                    tooltip: {
                        enabled: false
                    },
                    axisBorder: {
                        show: false,
                    },
                    type: 'datetime',
                },
                yaxis: {
                    labels: {
                        padding: 4
                    },
                },
                colors: colors,
                legend: {
                    show: true,
                },
            }).render();
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var exhibitorCountByRegistrationType = @json($exhibitorCountByRegistrationType);

            var dates = Object.keys(exhibitorCountByRegistrationType);
            var series = [];
            var colors = [];

            // Initialize an array to store data for each registration type
            var registrationTypeData = {};

            var colorMap = {
                'web': 'blue',
                'import-online': 'yellow',
            };

            // Populate registrationTypeData with counts for each registration type
            Object.keys(exhibitorCountByRegistrationType).forEach(function(date) {
                exhibitorCountByRegistrationType[date].forEach(function(exhibitor) {
                    var registrationType = exhibitor.registration_type;
                    var count = exhibitor.exhibitor_count;

                    if (!registrationTypeData[registrationType]) {
                        registrationTypeData[registrationType] = [];
                    }

                    registrationTypeData[registrationType].push(count);
                });
            });

            // Populate series array with data for each registration type
            Object.keys(registrationTypeData).forEach(function(registrationType) {

                let labelName = registrationType;

                if (registrationType === 'web') {
                    labelName = 'crm';
                }
                if (registrationType === 'import-online') {
                    labelName = 'web';
                }
                series.push({
                    name: labelName,
                    data: registrationTypeData[registrationType]
                });

                colors.push(tabler.getColor(colorMap[registrationType]));
            });

            // Use the processed data (series) to render the chart
            new ApexCharts(document.getElementById('chart-exhibitors'), {
                chart: {
                    type: "bar",
                    fontFamily: 'inherit',
                    height: 250,
                    parentHeightOffset: 0,
                    toolbar: {
                        show: false,
                    },
                    animations: {
                        enabled: true
                    },
                },
                plotOptions: {
                    bar: {
                        columnWidth: '80%',
                    }
                },
                dataLabels: {
                    enabled: false,
                },
                fill: {
                    opacity: 10,
                },
                series: series,
                tooltip: {
                    theme: 'dark'
                },
                grid: {
                    padding: {
                        top: -20,
                        right: 0,
                        left: -4,
                        bottom: -4
                    },
                    strokeDashArray: 2,
                },
                xaxis: {
                    categories: dates,
                    labels: {
                        padding: 0,
                    },
                    tooltip: {
                        enabled: false
                    },
                    axisBorder: {
                        show: false,
                    },
                    type: 'datetime',
                },
                yaxis: {
                    labels: {
                        padding: 4
                    },
                },
                colors: colors,
                legend: {
                    show: true,
                },
            }).render();
        });
    </script>
@endpush
